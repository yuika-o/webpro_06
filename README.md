# webpro_06
## app5.js
åˆã‚ã«app5.jsã«Node.jsã¨Expressã‚’ç”¨ã„ã¦ã‚µãƒ¼ãƒãƒ¼ã®åŸºæœ¬çš„ãªè¨­å®šã‚’è¡Œã„ï¼Œä»¥ä¸‹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè£…ã—ãŸï¼
- ```ã˜ã‚ƒã‚“ã‘ã‚“(janken)``` 
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‡ºã™æ‰‹ã‚’é¸æŠã™ã‚‹ã¨ï¼Œå‡ºã—ãŸæ‰‹ã‚’åŸºã«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã¨å¯¾æˆ¦ã—ãŸçµæœã‚’æ¤œè¨¼ã—ï¼Œå‹æ•—ï¼Œå‹æ•°ï¼Œè©¦åˆæ•°ã‚’ãã‚Œãã‚Œè¨˜éŒ²ï¼Œè¡¨ç¤ºã™ã‚‹
- ```ã‚¢ã‚¤ã‚³ãƒ³é¸æŠ(response)```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸æŠã™ã‚‹ã¨ã‚¢ã‚¤ã‚³ãƒ³ã«åˆã‚ã›ãŸãƒ†ã‚­ã‚¹ãƒˆã‚’ãã‚Œãã‚Œè¡¨ç¤ºã™ã‚‹
- ```ã‚¬ãƒãƒ£(rare)```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ï¼ˆã‚¬ãƒãƒ£ã‚’å¼•ãï¼‰ã¨Sï¼ŒSRï¼ŒSSRã®ã„ãšã‚Œã‹ãŒãƒ©ãƒ³ãƒ€ãƒ ã«æ±ºå®šã•ã‚Œï¼Œçµæœã‚’ç²å¾—ã—ãŸã‚«ãƒ¼ãƒ‰ã¨ã—ã¦è¡¨ç¤ºã™ã‚‹
ã“ã®ã¨ãï¼ŒSSRã®ä¸­ã§ä¸€å®šã®ç¢ºç‡ã§ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚«ãƒ¼ãƒ‰ãŒæ±ºå®šã•ã‚Œã‚‹
- ```ã‚¬ãƒãƒ£ï¼’(rare2)```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ï¼ˆ10é€£ã‚¬ãƒãƒ£ã‚’å¼•ãï¼‰ã¨Sï¼ŒSRï¼ŒSSRã®ã„ãšã‚Œã‹ãŒãƒ©ãƒ³ãƒ€ãƒ ã«æ±ºå®šã•ã‚Œã‚‹ï¼ã“ã‚Œã‚’10å›ç¹°ã‚Šè¿”ã—ï¼Œ10å›åˆ†ã®çµæœã‚’ç²å¾—ã—ãŸã‚«ãƒ¼ãƒ‰ã¨ã—ã¦è¡¨ç¤ºã™ã‚‹

### ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
ãƒ•ã‚¡ã‚¤ãƒ«å|èª¬æ˜
-|-
app5.js|ãƒ—ãƒ­ã‚°ãƒ©ãƒ æœ¬ä½“
public/janken.html|ã˜ã‚ƒã‚“ã‘ã‚“ã®é–‹å§‹ç”»é¢
public/rare.html|ã‚¬ãƒãƒ£ã®é–‹å§‹ç”»é¢
public/response.html|ã‚¢ã‚¤ã‚³ãƒ³é¸æŠç”»é¢
view/janken|ã˜ã‚ƒã‚“ã‘ã‚“ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼Œçµæœè¡¨ç¤º
view/rare|ã‚¬ãƒãƒ£ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼Œçµæœè¡¨ç¤º
view/response|ã‚¢ã‚¤ã‚³ãƒ³é¸æŠã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼Œçµæœè¡¨ç¤º
README.md|ã“ã‚Œ

###ã€€èµ·å‹•æ–¹æ³•ã¨ä»•æ§˜
####ã€€å…±é€š
1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’èµ·å‹•ã—è©²å½“ã®ãƒªãƒã‚¸ãƒˆãƒªã«ç§»å‹•
1. ```node app5.js```ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’èµ·å‹•
1. localhost:8080/public/(ä»»æ„ã®æ©Ÿèƒ½å)ã«ã‚¢ã‚¯ã‚»ã‚¹

#### helle1, hello2, icon
1. ãƒ›ãƒ¼ãƒ ãºãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹webãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹
1. â€Helloâ€, â€Bonjourâ€, appleã®ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒãŒãã‚Œãã‚Œè¡¨ç¤ºã•ã‚Œã‚‹

#### janken
1. çª“ã«ã‚°ãƒ¼, ãƒãƒ§ã‚­, ãƒ‘ãƒ¼ã®ã„ãšã‚Œã‹ã‚’å…¥åŠ›ã—ã¦é€ä¿¡ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™
1. å‹æ•—ã¨æˆ¦æ­´ãŒè¡¨ç¤ºã•ã‚Œã‚‹(ã“ã®å ´åˆã¯ã™ã¹ã¦å‹ã¡ã«ãªã‚‹)
1. çµæœã‚’å—ã‘ã¦ï¼Œå†åº¦ã˜ã‚ƒã‚“ã‘ã‚“ã‚’è¡Œã†äº‹ãŒã§ãã‚‹

###### (ä»•æ§˜)
ã“ã“ã§ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‡ºã™æ‰‹ã‚’æ±ºå®šã—ï¼Œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã¨ã®å¯¾æˆ¦çµæœã‚’åŸºã«å‹æ•—ï¼Œå‹æ•°ï¼Œè©¦åˆæ•°ã‚’è¨˜éŒ²ã™ã‚‹ï¼çµæœã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”¨ã„ã¦è¡¨ç¤ºã•ã‚Œã‚‹ï¼

åˆã‚ã«```app.get("/janken", (req, res)``` ã§urlã§```/janken```ã«å¯¾ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹ï¼```req.query```ã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰‹ï¼Œå‹æ•°ï¼Œè©¦åˆæ•°ã‚’å—ã‘å–ã‚Šï¼Œconsole.logé–¢æ•°ã§å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹ï¼

ã¾ãŸï¼ŒMath.floor(Math.random() * 3 + 1)ã§1ã€œ3ã¾ã§ã®ãƒ©ãƒ³ãƒ€ãƒ ãªæ•´æ•°ã‚’ç”Ÿæˆã—ï¼Œæ•°å­—ã«å¿œã˜ã¦ï¼Œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®é¸æŠã‚’æ±ºå®šã™ã‚‹ï¼åˆ¤å®šå¾Œè©¦åˆæ•°ã‚’1å¢—åŠ ã•ã›ã‚‹ï¼

ã€€æœ€å¾Œã«```res.render('janken', display)```ã§```janken.ejs```ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ãƒ‡ãƒ¼ã‚¿ï¼ˆå‡ºã—æ‰‹ï¼Œçµæœï¼Œå‹æ•°ï¼Œè©¦åˆæ•°ï¼‰ã‚’æ¸¡ã—ï¼Œè¡¨ç¤ºã™ã‚‹ï¼

```mermaid
flowchart TD;

start["é–‹å§‹"];
1["å‡ºã™æ‰‹ã‚’å…¥åŠ›"]
if{"çµæœã®åˆ¤å®š"}
wins["å‹æ•°+1"]
times["è©¦åˆæ•°+1"]
end2["çµ‚äº†"]

start --> 1
1 --> if
if -->|å‹ã¡|wins
wins --> times
if -->|è² ã‘|times
if -->|ã‚ã„ã“|times
times --> end2
```

#### response
1. ã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸æŠã™ã‚‹ã¨ä»»æ„ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
1. é¸æŠã™ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¤‰æ›´ã™ã‚‹ã¨ï¼Œã‚¢ã‚¤ã‚³ãƒ³ã«åˆã‚ã›ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹

###### (ä»•æ§˜)
ã“ã“ã§ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸æŠã—ï¼Œãã‚Œãã‚Œã®ã‚¢ã‚¤ã‚³ãƒ³ã«å¯¾å¿œã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ï¼çµæœã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”¨ã„ã¦è¡¨ç¤ºã™ã‚‹ï¼

åˆã‚ã«```app.get("/response", (req, res)``` ã§url```/response```ã«å¯¾ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹ï¼```req.query```ã‚’ä½¿ç”¨ã—ã¦```icon```ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ï¼

ã¾ãŸï¼Œ```icon```ã®å€¤ã«å¿œã˜ã¦ã€å¤‰æ•°```message```ã«ç•°ãªã‚‹æ–‡å­—åˆ—ã‚’ä»£å…¥ã™ã‚‹ï¼

ã€€æœ€å¾Œã«```res.render('response', { message: message });```ã§```response.ejs```ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰ã‚’æ¸¡ã—ï¼Œè¡¨ç¤ºã™ã‚‹ï¼

```mermaid
flowchart TD;

start["é–‹å§‹"];
end1["çµ‚äº†"]
if{"icon"}
morning["ãŠã¯ã‚ˆã†"]
night["ã“ã‚“ã°ã‚“ã¯"]
sleep["ãŠã‚„ã™ã¿"]

start --> if
if -->|ğŸŒ…| morning
morning --> end1
if -->|ğŸŒƒ| night
night --> end1
if -->|ğŸ›Œ| sleep
sleep --> end1
```

#### rare
1. rareã®ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨S,SR,SSRã®ã„ãšã‚Œã®ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã‹ã¨ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã‚’æ±ºå®šã™ã‚‹ãƒ©ãƒ³ãƒ€ãƒ å€¤ãŒè¡¨ç¤ºã•ã‚Œã‚‹
1. 1/100ã®ç¢ºç‡ã§ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚«ãƒ¼ãƒ‰ãŒç™ºç¾ï¼Œ```*picked up SSR*```ã¨è¡¨ç¤ºã•ã‚Œã‚‹
1. ã€Œã‚‚ã†ä¸€åº¦ã€ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã“ã¨ã§å†æŠ½é¸ã‚’è¡Œã†

###### (ä»•æ§˜)
ã“ã“ã§ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ"ã‚¬ãƒãƒ£"ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ï¼Œãƒ©ãƒ³ãƒ€ãƒ ã§ç”Ÿæˆã•ã‚ŒãŸæ•°å­—ã‚’åŸºã«æ±ºå®šã•ã‚ŒãŸçµæœï¼ˆSï¼ŒSRï¼ŒSSRï¼Œpickupï¼‰ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”¨ã„ã¦è¡¨ç¤ºã™ã‚‹ï¼

ã€€åˆã‚ã«```app.get("/rare", (req, res)```ã§url```/rare```ã«å¯¾ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹ï¼

ã¾ãŸï¼Œ```Math.floor(Math.random() * 100 + 1);```ã§1ã€œ3ã¾ã§ã®ãƒ©ãƒ³ãƒ€ãƒ ãªæ•´æ•°ã‚’ç”Ÿæˆã—ï¼Œæ•°å­—ã«å¿œã˜ã¦ï¼Œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®é¸æŠã‚’Sï¼ŒSRï¼ŒSSRï¼Œpicked up SSRã®ã„ãšã‚Œã‹ã«æ±ºå®šã™ã‚‹ï¼ã“ã®çµæœã¯å¤‰æ•°```ga```ã«æ ¼ç´ã•ã‚Œã‚‹

ã€€æœ€å¾Œã«```res.render('rare', { results: results });`` ã«ã‚¬ãƒãƒ£ã®çµæœã‚’ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ¸¡ã—è¡¨ç¤ºã™ã‚‹ï¼

```mermaid
flowchart TD;

start["é–‹å§‹"];
end1["è¡¨ç¤º"]
if{"1~100"}
ssr["SSR"]
sr["SR"]
r["R"]
p["picked up SSR"]
end2["çµ‚äº†"]

start -->|ãƒ©ãƒ³ãƒ€ãƒ ãªæ•°å­—ã®å®šç¾©| if
if--> |1|p
if --> |2~5|ssr
if -->|6~20| sr
if -->|21~100| r
p --> end1
ssr --> end1
sr --> end1
r --> end1
end1 --> end2
end1 -->|ã‚‚ã†ä¸€åº¦| if
```


#### rare2

ã“ã‚Œã¯```rare```ã®æ‹¡å¼µæ¿ã§ï¼Œ1å›ãšã¤ã§ã¯ãªã10é€£åˆ†ã‚¬ãƒãƒ£ã«ãªã‚‹ã‚ˆã†ã«ifæ–‡ã¨```results.push({ number: num, rare: rare }```ã‚’ä½¿ç”¨ã—ã¦```rare```ã‚’ä¸€éƒ¨ç·¨é›†ã—ãŸ

1. rareã®ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹
1. "ã‚¬ãƒãƒ£"ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨S,SR,SSRã®ã„ãšã‚Œã®ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã‹ã¨ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã‚’æ±ºå®šã™ã‚‹ãƒ©ãƒ³ãƒ€ãƒ å€¤ãŒ10æšè¡¨ç¤ºã•ã‚Œã‚‹
1. 1/100ã®ç¢ºç‡ã§ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚«ãƒ¼ãƒ‰ãŒç™ºç¾ï¼Œ```*picked up SSR*```ã¨è¡¨ç¤ºã•ã‚Œã‚‹
1. ã€Œã‚‚ã†ä¸€åº¦ã€ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã“ã¨ã§å†æŠ½é¸ã‚’è¡Œã†

```mermaid
flowchart TD;

start["é–‹å§‹"];
end1["1å›ã®çµæœ"]
if{"1~100"}
ssr["SSR"]
sr["SR"]
r["R"]
p["picked up SSR"]
end3["çµ‚äº†"]
end2["10é€£ã‚¬ãƒãƒ£çµæœ"]

start -->|ãƒ©ãƒ³ãƒ€ãƒ ãªæ•°å­—ã®å®šç¾©| if
if--> |1|p
if --> |2~5|ssr
if -->|6~20| sr
if -->|21~100| r
p --> end1
ssr --> end1
sr --> end1
r --> end1
end1 --> end2
end2 --> end3
end2 --> |ã‚‚ã†ä¸€åº¦| if
end1 -->|ç¹°ã‚Šè¿”ã—| if
```

##ã€€GITã®ç®¡ç†æ–¹æ³•

Github...ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚„ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›´ã‚’å±¥æ­´ã¨ã—ã¦è¨˜éŒ²ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

#####ã€€Githubã®è¨­å®š
```HOME``` 
â†’ ```setting```
â†’ ```Developer``` 
â†’ ```settings```
â†’ ```Personal access tokens```
â†’ ```Tokens (classic)```ã€€
â†’ ```Generate new token (classic)```
â†’ ```ãƒˆãƒ¼ã‚¯ãƒ³åã‚’æ±ºå®š```ã€€
â†’ ```Generate token```


##### Fork(è¤‡è£½)ã®ä½œã‚Šæ–¹
1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ä¸Šã§ä»»æ„ã®ãƒªãƒã‚¸ãƒˆãƒª(è²¯è”µåº«)ã«ç§»å‹•
1. ```$ git clone```ã‚’å®Ÿè¡Œ
1. ãƒªãƒã‚¸ãƒˆãƒªã®URLã‚’å…¥åŠ›
1. å„è‡ªã§ç·¨é›†



##### ç·¨é›†ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ–¹æ³•
ä»¥ä¸‹ã‚’é †ç•ªã«å®Ÿè¡Œã™ã‚‹
1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ä¸Šã§ä»»æ„ã®ãƒªãƒã‚¸ãƒˆãƒªã«ç§»å‹•
1. ```$ git add .```  (ã‚¹ãƒšãƒ¼ã‚¹+ã‚³ãƒ³ãƒ)
1. ```$ git commit -am 'ã‚³ãƒ¡ãƒ³ãƒˆ'```
1. ```$ git push```
1. Githubã®ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›


#### url
```localhost:8080/public/response```

```localhost:8080/public/rare```



# ãƒ¡ãƒ¢
## ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
ãƒ•ã‚¡ã‚¤ãƒ«å|èª¬æ˜
-|-
app5.js|ãƒ—ãƒ­ã‚°ãƒ©ãƒ æœ¬ä½“
public/janken.html|ã˜ã‚ƒã‚“ã‘ã‚“ã®é–‹å§‹ç”»é¢
public/response.html|ã‚¢ã‚¤ã‚³ãƒ³ç”»é¢
values/janken.ejsã€€|ã˜ã‚ƒã‚“ã‘ã‚“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

ãƒ•ã‚¡ã‚¤ãƒ«
```javascript
    console.log('Hello');
```


1. ```node app5.js```ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’èµ·å‹•ã™ã‚‹
1. webãƒ–ãƒ©ã‚¦ã‚¶ã§localhost:8080/public/janken.htmlã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹
1. è‡ªåˆ†ã®æ‰‹ã‚’å…¥åŠ›ã™ã‚‹


```mermaid
flowchart TD;

start["é–‹å§‹"];
end1["çµ‚äº†"]
if{"æ¡ä»¶ã«åˆã†ã‹"}
win["å‹ã¡"]
loose["è² ã‘"]

start --> if
if -->|yes| win
win --> end1
if -->|no| loose
loose --> end1
```
